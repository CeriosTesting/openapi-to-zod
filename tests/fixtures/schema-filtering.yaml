openapi: 3.0.0
info:
  title: Schema Filtering Test API
  version: 1.0.0
  description: Tests for readOnly and writeOnly property filtering
components:
  schemas:
    # Read/Write filtering tests
    Pet:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
        status:
          type: string
        createdAt:
          type: string
          format: date-time
          readOnly: true
        password:
          type: string
          writeOnly: true

    Dog:
      allOf:
        - $ref: '#/components/schemas/Pet'
        - type: object
          properties:
            bark:
              type: boolean

    Cat:
      allOf:
        - $ref: '#/components/schemas/Pet'
        - type: object
          properties:
            meow:
              type: boolean

    User:
      type: object
      properties:
        id:
          type: string
          format: uuid
          readOnly: true
        username:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
          writeOnly: true
        createdAt:
          type: string
          format: date-time
          readOnly: true
        updatedAt:
          type: string
          format: date-time
          readOnly: true

    PaymentMethod:
      anyOf:
        - $ref: '#/components/schemas/CreditCard'
        - $ref: '#/components/schemas/BankAccount'

    CreditCard:
      type: object
      properties:
        cardNumber:
          type: string
          writeOnly: true
        lastFourDigits:
          type: string
          readOnly: true
        expiryDate:
          type: string

    BankAccount:
      type: object
      properties:
        accountNumber:
          type: string
          writeOnly: true
        routingNumber:
          type: string
          writeOnly: true
        accountType:
          type: string
